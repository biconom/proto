# Сервис: WalletCurrencyService

## 1. Описание

**`WalletCurrencyService`** — это клиентский сервис, который предоставляет авторизованному пользователю детализированную информацию о его балансах (`WalletCurrency`) в разных кошельках.

Этот сервис дополняет `WalletService`, позволяя запрашивать информацию о балансе одной конкретной валюты, не загружая весь объект кошелька со всеми балансами.

## 2. Описание методов (RPC)

### `rpc Get(biconom.types.WalletCurrency.Id) returns (biconom.types.WalletCurrency)`
- **Назначение**: Получить полную информацию о балансе конкретной валюты в конкретном типе кошелька.
- **Использование**: Полезно для обновления данных по одному активу на UI.
- **Параметры**: Принимает `biconom.types.WalletCurrency.Id` (составной ключ из `wallet_type_id` и `currency_id`).
- **Ответ**: Возвращает модель `biconom.types.WalletCurrency` с подтвержденным балансом и сводкой по операциям в ожидании.
- **Авторизация**: Требуется.

### `rpc List(ListRequest) returns (biconom.types.WalletCurrency.List)`
- **Назначение**: Получить список балансов пользователя с возможностью фильтрации.
- **Использование**:
  - Получить все балансы пользователя в "Спотовом" кошельке.
  - Получить баланс BTC во всех кошельках пользователя.
- **Параметры `ListRequest`**:
  - `repeated filter_wallet_type_ids`: Фильтр по одному или нескольким типам кошельков.
  - `repeated filter_currency_ids`: Фильтр по одной или нескольким валютам.
- **Ответ**: Возвращает `biconom.types.WalletCurrency.List`, содержащий отфильтрованный список балансов.
- **Авторизаци**: Требуется.

### `rpc Transfer(TransferRequest) returns (TransferResult)`
- **Назначение**: Выполнить внутренний перевод средств от текущего пользователя другому пользователю системы.
- **Использование**: Основной метод для отправки средств между пользователями.
- **Параметры `TransferRequest`**:
  - `source`: С какого баланса (кошелек + валюта) списать средства.
  - `amount`: Сумма для перевода.
  - `recipient`: Идентификатор получателя. Можно указать либо `account_id`, либо `distributor_id`.
  - `memo`: Необязательное текстовое примечание к переводу.
- **Ответ**: Возвращает детали созданной транзакции (`LedgerTransaction`).
- **Авторизация**: Требуется.

## 3. Права доступа

Для доступа ко всем методам сервиса требуется авторизация.
