# Сервис: PaymentDetailsService

## 1. Описание

**`PaymentDetailsService`** — это клиентский сервис, предназначенный для управления пользовательским реестром (белым списком) платежных реквизитов. Он предоставляет полный набор методов для создания, просмотра, изменения и архивации реквизитов.

## 2. Описание методов (RPC)

### `rpc List(ListRequest) returns (ListResponse)`
- **Назначение**: Получить список платежных реквизитов с возможностью гибкой фильтрации.
- **Параметры `ListRequest`**:
    - `optional biconom.types.PaymentDetails.Kind.Id kind`: Позволяет отфильтровать реквизиты по их типу (например, `CRYPTO_WALLET`).
    - `optional biconom.types.PaymentDetails.Status.Id status`: Позволяет отфильтровать реквизиты по их статусу (`ACTIVE` или `ARCHIVED`).
- **Логика фильтрации**:
    - Если **оба поля пусты**, сервис вернет все реквизиты со статусом `ACTIVE` (поведение по умолчанию).
    - Если **указан `kind`**, будут возвращены реквизиты только этого типа.
    - Если **указан `status`**, будут возвращены реквизиты только с этим статусом.
    - Если **указаны оба поля**, фильтры комбинируются (логическое "И").
- **Ответ `ListResponse`**: Содержит отфильтрованный список `biconom.types.PaymentDetails`.

### `rpc Create(CreateRequest) returns (biconom.types.PaymentDetails)`
- **Назначение**: Создать новый платежный реквизит в реестре пользователя. Новому реквизиту автоматически присваивается статус `ACTIVE`.
- **Параметры `CreateRequest`**:
    - `name`: Пользовательское имя для реквизита (например, "Мой кошелек для BNB").
    - `oneof details`: Конкретные данные реквизита (например, `crypto_wallet`).

### `rpc Update(UpdateRequest) returns (biconom.types.PaymentDetails)`
- **Назначение**: Изменить пользовательское имя (`name`) существующего платежного реквизита.
- **Параметры `UpdateRequest`**:
    - `payment_details_id`: ID реквизита, который нужно обновить.
    - `name`: Новое имя.

### `rpc Archive(ArchiveRequest) returns (biconom.types.PaymentDetails)`
- **Назначение**: Архивировать существующий платежный реквизит. Этот метод выполняет "мягкое удаление", меняя статус реквизита на `ARCHIVED`. После этого он перестанет отображаться в списке по умолчанию.
- **Параметры `ArchiveRequest`**:
    - `payment_details_id`: ID реквизита, который нужно заархивировать.
