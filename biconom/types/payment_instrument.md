# Модель: PaymentInstrument

## 1. Описание

**`PaymentInstrument`** — это низкоуровневая, фундаментальная модель, которая представляет собой конкретные, переиспользуемые реквизиты для совершения платежа (например, адрес кошелька).

Ключевая особенность этой модели в том, что она содержит **только сами реквизиты** и не включает в себя никаких пользовательских или системных метаданных, таких как имена, статусы или идентификаторы. Это "чистая" модель данных, предназначенная для максимального переиспользования.

## 2. Назначение и решаемые задачи

Основная цель — создать единый, стандартизированный и переиспользуемый "строительный блок" для всех сущностей в системе, которым требуются платежные реквизиты.

### Ключевые задачи:
- **Переиспользование (Reusability)**: `PaymentInstrument` является встраиваемой частью других, более сложных моделей. Например, он используется в `PaymentDestination` для описания сохраненной записи в адресной книге и в `PaymentNetworkCurrencyWithdrawal` для указания реквизитов при одноразовом выводе.
- **Разделение ответственности (Decoupling)**: Модель отделяет "сырые" реквизиты от контекста их использования. Это позволяет, например, модели `PaymentDestination` отвечать за пользовательские имена и статусы, не смешивая их с техническими деталями самого инструмента.
- **Строгая типизация и расширяемость**: С помощью `oneof details` модель гарантирует, что каждый экземпляр `PaymentInstrument` содержит реквизиты только одного типа (например, `Blockchain`). Это обеспечивает безопасность типов и позволяет в будущем легко добавлять новые типы инструментов (например, `BankAccount`), не затрагивая существующую логику.

## 3. Ключевые поля и концепции

- `oneof details`: Определяет, к какому типу относится инструмент.
  - `blockchain`: Структура для реквизитов блокчейн-транзакции.
    - `address_format`: Формат адреса (например, `EVM_HEX`, `BASE58`). **Ключевое поле**, которое позволяет системе определить, для каких платежных сетей этот адрес является валидным.
    - `address`: Сам адрес.

## 4. Связи с другими моделями

- **`PaymentDestination`**: **Использует** `PaymentInstrument` для хранения реквизитов в адресной книге пользователя.
- **`PaymentNetworkCurrencyWithdrawal`**: **Использует** `PaymentInstrument` для указания реквизитов при создании заявки на вывод (особенно для одноразовых выводов, не из адресной книги).
- **`Confirmation`**: Может **использовать** `PaymentInstrument` в поле `metadata` для отображения пользователю, какие именно реквизиты он подтверждает.