# Модель: WalletOperation

## 1. Описание

**`WalletOperation`** — это справочное перечисление (`enum`), которое определяет канонический список всех базовых операций, возможных с кошельком.

## 2. Назначение и решаемые задачи

Основная цель — создать единый источник истины для всех типов операций. Это позволяет избежать дублирования и обеспечивает консистентность в моделях `WalletType` и `WalletTypeCurrency`.

### Ключевые задачи:
- **Стандартизация**: Определяет стандартный набор операций (`DEPOSIT`, `WITHDRAW` и т.д.).
- **Основа для битовых масок**: Значения перечисления (`0`, `1`, `2`, ...) используются как порядковые номера (позиции) битов в полях-масках `allowed_operations_flags` и `disabled_operations_flags`.

## 3. Ключевые поля и концепция битовой маски

`enum Id` — это перечисление, где каждый элемент соответствует одной уникальной операции.

**Ключевая концепция**: Числовое значение каждого элемента (`0`, `1`, `2`, ...) — это **порядковый номер (позиция) бита** в 32-битной маске, начиная с нуля. Это значение показывает, на сколько позиций нужно сдвинуть бит `1`, чтобы проверить его наличие в маске.

### Пример

Допустим, у нас есть следующие значения:
- `DEPOSIT = 0`
- `WITHDRAW = 1`
- `INTERNAL_TRANSFER_SEND = 2`

**Как это работает на практике:**
- Чтобы проверить, разрешен ли `WITHDRAW` (позиция `1`) в маске, нужно выполнить операцию: `(маска & (1 << 1)) != 0`.
- Чтобы создать маску, разрешающую `DEPOSIT` (позиция `0`) и `INTERNAL_TRANSFER_SEND` (позиция `2`), нужно сложить их битовые значения: `(1 << 0) | (1 << 2)`, что равно `1 | 4 = 5`.

Этот подход позволяет гибко комбинировать множество разрешений в одном числовом поле.

## 4. Связи с другими моделями

- **`WalletType`**: **Логически используется** для определения битов в поле `allowed_operations_flags`.
- **`WalletTypeCurrency`**: **Логически используется** для определения битов в поле `disabled_operations_flags`.