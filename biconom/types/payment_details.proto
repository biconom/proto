syntax = "proto3";

package biconom.types;

import "google/protobuf/timestamp.proto";

// PaymentDetails представляет собой универсальную структуру для хранения
// одного экземпляра платежных реквизитов.
message PaymentDetails {

    // Пространство имен для типа платежных реквизитов.
    message Kind {
        enum Id {
            UNSPECIFIED = 0;
            // Криптовалютный кошелек.
            CRYPTO_WALLET = 1;
        }
    }

    // Пространство имен для статуса жизненного цикла реквизита.
    message Status {
        enum Id {
            UNSPECIFIED = 0;
            // Реквизит активен и отображается в списках.
            ACTIVE = 1;
            // Реквизит архивирован, не отображается в общих списках,
            // но доступен по прямому идентификатору.
            ARCHIVED = 2;
        }
    }

    // Реквизиты криптовалютного кошелька.
    message CryptoWallet {
        // Тип сети кошелька.
        enum NetworkType {
            UNSPECIFIED = 0;
            // Адрес, совместимый с EVM (Ethereum, BNB Chain и т.д.).
            EVM_HEX = 1;
        }
        NetworkType network_type = 1; // Тип сети.
        string address = 2;           // Адрес кошелька.
    }

    uint64 id = 1;         // Уникальный ID реквизита в реестре пользователя.
    string name = 2;       // Пользовательское название реквизита (например, "Мой основной кошелек").
    Kind.Id kind = 3;      // Тип реквизитов.
    Status.Id status = 4;  // Статус реквизита (активен/архивирован).

    // Конкретные данные, зависящие от типа.
    oneof details {
        CryptoWallet crypto_wallet = 5;
    }

    google.protobuf.Timestamp created_at = 6;
    google.protobuf.Timestamp updated_at = 7;
}
