syntax = "proto3";

package biconom.types;

import "biconom/types/ledger.proto";
import "google/protobuf/timestamp.proto";

// WalletCurrency - это подробное представление баланса одной валюты в кошельке пользователя.
// Оно объединяет подтвержденный баланс с агрегированными данными о транзакциях в ожидании.
message WalletCurrency {
    message Id {
        uint32 wallet_type_id = 1; // ID типа кошелька.
        uint32 currency_id = 2;    // ID валюты.
    }
    
    message List {
        repeated WalletCurrency items = 1;
    }

    Id id = 1;
    // Основной объект бухгалтерского счета, содержащий все балансовые показатели.
    Ledger ledger = 2;
    // "Мастер-выключатель". Если true, валюта полностью отключена для этой валюты в этом кошельке.
    bool disabled = 3;
    // Битовая маска флагов операций, принудительно запрещенных для этой валюты в данном кошельке.
    // Позиции битов определяются в `WalletOperation.Id`.
    uint32 disabled_operations_flags = 4;

    // Флаг, указывающий, что объект был инициализирован и не является значением по умолчанию.
    bool initialized = 5;

    google.protobuf.Timestamp created_at = 6;
    google.protobuf.Timestamp updated_at = 7;
}