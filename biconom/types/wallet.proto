syntax = "proto3";

package biconom.types;

import "google/protobuf/timestamp.proto";

// Wallet - это экземпляр кошелька, принадлежащий конкретному владельцу (Account).
// Он создается на основе WalletType и содержит набор счетов (Ledger) для каждой валюты.
message Wallet {
    message List {
        repeated Wallet items = 1;
    }

    // Статус жизненного цикла экземпляра кошелька.
    message Status {
        enum Id {
            UNSPECIFIED = 0;
            ACTIVE = 1; // Кошелек активен и работает штатно.
            FROZEN = 2; // Кошелек заморожен администратором. Все операции заблокированы.
        }
    }

    uint32 wallet_type_id = 1;   // ID типа, на основе которого создан кошелек.

    Status.Id status = 2; // Текущий статус этого экземпляра кошелька.

    // Битовая маска флагов операций, принудительно запрещенных для этого конкретного экземпляра кошелька.
    // Позиции битов определяются в `WalletOperation.Id`.
    uint32 disabled_operations_flags = 3;

    google.protobuf.Timestamp created_at = 4;
    google.protobuf.Timestamp updated_at = 5;
}