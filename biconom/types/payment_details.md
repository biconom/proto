# Модель: PaymentDetails

## 1. Описание

**`PaymentDetails`** — это универсальная модель, предназначенная для хранения одного экземпляра платежных реквизитов. Она спроектирована так, чтобы быть расширяемой и поддерживать различные типы платежных методов в будущем.

## 2. Назначение и решаемые задачи

Основная цель — создать единый, стандартизированный формат для всех видов платежных реквизитов, которые пользователь может сохранять в системе, с поддержкой "мягкого удаления" и строгой изоляцией типов данных.

### Ключевые задачи:
- **Универсальность**: С помощью `oneof details` модель может содержать реквизиты разного типа.
- **Изоляция пространств имен**: Вложенные сообщения `Kind` и `Status` используются как пространства имен для соответствующих перечислений `enum Id`. Это предотвращает конфликты имен и делает API более строгим и предсказуемым.
- **Управление жизненным циклом**: Поле `status` позволяет архивировать реквизиты, убирая их из активного использования без физического удаления.
- **Пользовательское описание**: Поле `name` позволяет пользователю дать удобное название для каждого сохраненного реквизита.

## 3. Ключевые поля и концепции

- `id`: Уникальный идентификатор записи в реестре.
- `name`: Человекочитаемое имя, заданное пользователем (например, "Мой ETH кошелек").
- `kind`: Тип реквизитов. Имеет тип `Kind.Id`, где `Kind` — это сообщение-обертка, а `Id` — само перечисление (`UNSPECIFIED`, `CRYPTO_WALLET`).
- `status`: Статус реквизита. Имеет тип `Status.Id`, где `Status` — это сообщение-обертка, а `Id` — само перечисление (`UNSPECIFIED`, `ACTIVE`, `ARCHIVED`).
  - `ACTIVE`: Реквизит активен и будет отображаться в списках.
  - `ARCHIVED`: Реквизит архивирован. Он **не будет** возвращаться в общих списках по умолчанию, но его можно запросить, указав соответствующий фильтр.
- `oneof details`: Содержит конкретную структуру, соответствующую `kind`.
  - `crypto_wallet`: Структура для хранения адреса и типа сети криптовалютного кошелька.

## 4. Сценарии использования

- **Добавление реквизита**: Пользователь добавляет новый кошелек. Создается экземпляр `PaymentDetails` со статусом `Status.Id.ACTIVE`.
- **Архивация реквизита**: Пользователь больше не хочет использовать кошелек. Он не удаляет его, а меняет его статус на `Status.Id.ARCHIVED`. Кошелек пропадает из списка выбора по умолчанию.

## 5. Связи с другими моделями

- **`PaymentDetailsRegistry`**: `PaymentDetails` **является элементом** списка в реестре `PaymentDetailsRegistry`.
