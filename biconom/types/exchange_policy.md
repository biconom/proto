# Модель: ExchangePolicy

## 1. Описание

**`ExchangePolicy`** — это модель, которая определяет набор правил для группы бирж (`Exchange`). Ключевым правилом является `trading_model`, которое диктует, будет ли биржа работать как обменник с фиксированными курсами или как полноценный рынок со стаканом ордеров. Конкретная логика политики реализуется на стороне бэкенда.

## 2. Назначение и решаемые задачи

Основная цель — централизованное управление поведением и правилами торговых площадок.

### Ключевые задачи:
- **Определение торговой модели**: Поле `trading_model` фундаментально определяет, как работает биржа: как **обменник** (`EXCHANGER`) с фиксированными курсами или как **рынок** (`ORDER_BOOK`) со стаканом ордеров. Это влияет на то, какой тип данных (`ExchangerRate` или `MarketRate`) будет использоваться в модели `Ticker`.
- **Управление типами ордеров**: Политика может определять, какие типы ордеров (лимитные, рыночные) доступны на бирже.

## 3. Ключевые поля и концепции

- `trading_model`: Определяет фундаментальную логику работы биржи. Это поле является **единым источником правды** для определения типа торгов.

## 4. Сценарии использования (кейсы)

- **Создание обменника**: Создается политика "Exchanger_Policy" с `trading_model = EXCHANGER`. Все биржи с этой политикой будут работать как обменники.
- **Создание спотовой биржи**: Создается политика "Spot_Policy" с `trading_model = ORDER_BOOK`. Все биржи с этой политикой будут работать как классические биржи со стаканом ордеров.

## 5. Связи с другими моделями

- **`Exchange`**: `Exchange` **управляется** одной политикой.
- **`Ticker`**: Значение `trading_model` в политике определяет, какой `oneof` (`exchanger_rate` или `market_rate`) будет использоваться в модели `Ticker` для всех пар на данной бирже.
