# Сервис: LedgerService (Admin)

## 1. Описание

**`LedgerService`** — это внутренний административный сервис, предназначенный для прямого доступа к бухгалтерским счетам (`Ledger`). Он предоставляет сотрудникам с соответствующими правами возможность просматривать и фильтровать счета для целей аудита, отладки и операционного управления.

В отличие от клиентских сервисов, которые оперируют балансами в контексте кошельков (`WalletCurrency`), этот сервис работает с низкоуровневой моделью `Ledger` напрямую.

## 2. Описание методов (RPC)

### `rpc Get(biconom.types.Ledger.Id) returns (biconom.types.Ledger)`
- **Назначение**: Получить полную информацию о конкретном счете `Ledger` по его уникальному идентификатору.
- **Использование**:
  - Детальный анализ одного счета в ходе расследования.
  - Проверка балансовых показателей и статуса конкретного счета.
- **Параметры**: Принимает `biconom.types.Ledger.Id`.
- **Ответ**: Возвращает полную модель `biconom.types.Ledger`.

### `rpc List(ListRequest) returns (ListResponse)`
- **Назначение**: Получить список счетов `Ledger` с возможностью гибкой фильтрации и пагинации.
- **Использование**:
  - Найти все счета для определенного актива (например, все счета BTC).
  - Найти все счета с определенным статусом (например, `FROZEN` или `SUSPENDED`).
  - Найти все счета, принадлежащие определенному владельцу (например, конкретному кошельку или пулу).
  - Найти все счета с определенным набором флагов (например, `SUSPICIOUS`).
- **Параметры `ListRequest`**:
  - `repeated filter_owners`: Фильтр по одному или нескольким владельцам.
  - `repeated filter_assets`: Фильтр по одному или нескольким активам.
  - `repeated filter_statuses`: Фильтр по одному или нескольким статусам (`ACTIVE`, `FROZEN` и т.д.).
  - `repeated filter_flags`: Фильтр по одному или нескольким флагам. Вернет счета, у которых установлен хотя бы один из указанных флагов.
  - `optional cursor`: Курсор для пагинации. В него передается `id` последней полученной записи.
  - `optional sort`: Параметры для управления лимитом и направлением сортировки.
- **Ответ**: Возвращает `ListResponse`, содержащий отфильтрованный список `Ledger`.

## 3. Права доступа

Доступ ко всем методам этого сервиса строго ограничен и требует прав администратора. Сервис не предназначен для публичного использования.